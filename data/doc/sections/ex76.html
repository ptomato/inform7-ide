<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>14.3. Corresponding entries</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
-->
</STYLE>
<body><font size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc211.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap14.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 14: Tables</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc213.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>14.3. Corresponding entries</b></font></td></tr></table>
<p>
<p>Continuing our example of the elements:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode42(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('Table 2.1 - Selected Elements\nElement\tSymbol\tAtomic number\tAtomic weight\n"Hydrogen"\t"H"\t1\t1\n"Iron"\t"Fe"\t26\t56\n"Zinc"\t"Zn"\t30\t65\n"Uranium"\t"U"\t92\t238\n\n');
}
</script>
<a href="javascript:pasteCode42()"><img border=0 src=../doc_images/paste.png></a> Table 2.1 - Selected Elements
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font size=2 color="#000080">Element</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Symbol</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Atomic number</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Atomic weight</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">&quot;Hydrogen&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">&quot;H&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">&quot;Iron&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">&quot;Fe&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">26</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">56</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">&quot;Zinc&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">&quot;Zn&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">30</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">65</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">&quot;Uranium&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">&quot;U&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">92</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">238</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<p>If we want to know the atomic number of Uranium, say, it seems artificial to have to talk about the particular row number where the information happens to be. So we are also allowed to cross-reference, like so:
<p>
<blockquote><font color="#000080">the atomic number corresponding to a symbol of &quot;Fe&quot; in the Table of Selected Elements
</font></blockquote><p>
<p>
<p>This results in 26, and similarly
<p>
<blockquote><font color="#000080">the symbol corresponding to an atomic number of 26 in the Table of Selected Elements
</font></blockquote><p>
<p>
<p>results in &quot;Fe&quot;. But we have to be careful:
<p>
<blockquote><font color="#000080">the element corresponding to an atomic number of 27 in the Table of Selected Elements
</font></blockquote><p>
<p>
<p>This is not allowed (it produces an error at run-time), because there is no row with atomic number 27 in this rather limited table. We can check this in advance with the condition:
<p>
<blockquote><font color="#000080">if there is an element corresponding to an atomic number of 27 in the Table of Standard Elements ...
</font></blockquote><p>
<p>
<p>Or more simply:
<p>
<blockquote><font color="#000080">if there is an atomic number of 27 in the Table of Standard Elements ...
</font></blockquote><p>
<p>
<p>The condition &quot;if there is...&quot; can be used with any reference to a table entry: for instance, &quot;if there is a symbol in row 5 of the Table of Standard Elements&quot; would be false, because there are only four rows.
<p>
<p><hr><p>
<a name="e76"><table CELLPADDING=0 CELLSPACING=0><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc212.html#e76 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>196</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font size=2><a href=doc212.html#e76 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Dubai</font></b></a><br>An elevator which connects any of 27 floors in a luxury hotel.<p></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font size=2><p>
<p>The problem of implementing an elevator that opens onto a large number of floors often challenges novice interactive fiction authors. It also raises a fundamental design problem -- how to implement a large building in an interesting way. It is tempting to write a hotel with an elevator and innumerable tedious and identical floors just for the sake of realism; in many cases it is a better idea simply to omit any locations that contribute nothing to the story or the play of the game.
<p>
<p>In charity, though, let us assume that the author has a legitimate reason for wanting to implement an elevator that opens onto some generic floors. We will go whole-hog, and set this in the world's tallest hotel: Burj al-Arab, Dubai.
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode169(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('"Dubai"\n\nThe Burj al-Arab Lobby is a room. "The 202-suite Burj al-Arab - or Tower of the Arabs - stands 321 metres (1,060 feet) high, and floats on its own man-made island. It is shaped like the sail of a boat; just crossing the private bridge to reach this place set you back $55."\n\n[(Since our budget did not run to visiting Burj al-Arab, the descriptions place implicit faith in the hotel\'s website.)]\n\nThe Assawan Spa is a room. "Treatment rooms, hydrotherapy baths, oriental massage, stand-up solarium, sauna, steam rooms and jacuzzi, two swimming pools, squash court, two fully equipped fitness studios and an aerobics floor. To the south is a shopping area, for those who do not find exercise adequately therapeutic."\n\nThe Shopping Area is south of Assawan Spa. "In a setting that would make a poet sigh, you may enjoy the services of (among others) Bulgari, Black Pearl Caviar, Albarajeel Carpet Shop, Abdul Samed Al Qurashi (amber and Arabic perfumes), Dianoor (jewellery), and the Commercial Bank of Dubai."\n\nThe Al Falak Ballroom is a room. "A palatial, two-tiered, domed ballroom crowned with a unique crystal chandelier."\n\nSahn Eddar is a room. "At the base of the world\'s tallest atrium, the Sahn Eddar restaurant offers light fine fare and Afternoon Tea. At the center, a 32-meter water column leaps toward the roof of the atrium."\n\nAl Mahara is a room. "After the elevator, you must take a three-minute virtual submarine voyage to reach this seafood restaurant. A magnificent oval aquarium, full of sharks, is visible from every table."\n\nAl Iwan is a room. "Middle-eastern food in an environment of dramatic black, red, and gold."\n\nAl Muntaha is a room. "A top-floor restaurant with a magnificent view: the name means the ultimate or the highest, suitable for a place that stands at 200 metres above the Arabian Gulf. It offers modern European cuisine; and just off to the south is the Skyview Bar."\n\nThe Skyview Bar is south of Al Muntaha. "\'A wonderful location for pre- and post dinner drinks,\' claims the hotel\'s brochure, and certainly you can\'t fault the view."\n\nThe Juna Lounge is a room. "Two humidors that offer one of the largest selections of the finest Havana cigars in Dubai."\n\nThe Lift is a room. "This is not a mere elevator: it is an express panoramic lift, traveling six meters a second, and capable of taking you from lobby to the rooftop restaurant in an astonishingly short time. The illuminated number above the door says [current level of the Lift] - though you can make it move by pressing a numbered button."\n\nThe Presidential Suite is a room. "Astonishingly, this is not the most elaborate or expensive of suites; there is another, the Royal, upstairs of here."\n\nThe Royal Suite is a room. "The brochure described this as \'the last word in luxury,\' and you have to admit that it is certainly the last word in [italic type]something[roman type]. A vast carpet of patterned red and gold stretches from you to the sofa; beyond which, in the distance, you make out several bedrooms and bathrooms outfitted in Carrera marble. There is also, of course, a private cinema."\n\nTable of Floors\nlevel\tfloor\n0\tAl Mahara\n1\tBurj al-Arab Lobby\n2\tAl Iwan\n3\tJuna Lounge\n4\tSahn Eddar\n15\tAl Falak Ballroom\n18\tAssawan Spa\n24\tPresidential Suite\n25 \tRoyal Suite\n27\tAl Muntaha\n\nThe elevator exterior is a backdrop. It is not scenery. The initial appearance of the elevator exterior is "You can enter the elevator here." It is in Generic Floor, Al Mahara, the Lobby, Al Iwan, Juna Lounge, Sahn Eddar, Al Falak, Assawan Spa, Presidential Suite, Royal Suite, and Al Muntaha.\n\nBefore entering the elevator exterior, try going inside instead.\n\nInstead of going inside in the presence of the elevator exterior:\n\tif there is a level corresponding to a floor of the location in the Table of Floors\n\tbegin;\n\t\tlet the present level be the level corresponding to a floor of the location in the Table of Floors;\n\t\tchange the current level of the Lift to the present level;\n\totherwise;\n\t\tchange the current level of the Lift to the current level of Generic Floor;\n\tend if;\n\tmove the player to the Lift.\n\nThe Lift has a number called current level. The current level of the Lift is 1. Instead of going up in the Lift: say "You\'ll have to select a specific floor; your options range from 0 to 27." Instead of going down in the Lift: try going up instead. The Lobby is outside from the Lift.\n\nBefore going outside in the Lift:\n\tif there is a floor corresponding to a level of the current level of the Lift in the Table of Floors\n\tbegin;\n\t\tlet the other place be the floor corresponding to a level of the current level of the Lift in the Table of Floors;\n\t\tmove the player to the other place instead;\n\totherwise;\n\t\tchange the current level of the Generic Floor to the current level of the Lift;\n\t\tmove the player to the Generic Floor instead;\n\tend if.\n\nThe Generic Floor is a room. The Generic Floor has a number called current level. The printed name of the Generic Floor is "Floor [current level of the Generic Floor]". "A long hallway between suites, some of which run up to $15,000 a night."\n\nUnderstand "push [number]" as pressing button. Understand "push [number] button" as pressing button. Understand "push button [number]" as pressing button. Pressing button is an action applying to one number.\n\nCheck pressing button:\n\tif the player is not in the Lift, say "You cannot control the express panoramic lift unless you are yourself inside." instead;\n\tif the number understood is the current level of the Lift, say "The lift pings politely and reopens its doors, since you are already on floor [number understood]." instead;\n\tif the number understood is greater than 27, say "There are only 27 floors." instead;\n\tif the number understood is less than 0, say "You cannot go below the ground floor in this elevator." instead;\n\nCarry out pressing button:\n\tchange the current level of the Lift to the number understood;\n\tsay "You press button [the number understood]. The lift whirs into action and moves to the correct level."\n\nTest me with "press 3 / in / press button 3 / look / out / in / press 27 / out / s / in / n / in / press 15 / out / in / press 18 / out / s / in / n / in / press 4 button / out".\n\n');
}
</script>
<a href="javascript:pasteCode169()"><img border=0 src=../doc_images/paste.png></a> &quot;Dubai&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Burj al-Arab Lobby is a room. &quot;The 202-suite Burj al-Arab - or Tower of the Arabs - stands 321 metres (1,060 feet) high, and floats on its own man-made island. It is shaped like the sail of a boat; just crossing the private bridge to reach this place set you back $55.&quot;
</font></blockquote><p>
<p>
<p>(Since our budget did not run to visiting Burj al-Arab, the descriptions place implicit faith in the hotel's website.)
<p>
<blockquote><font color="#000080">The Assawan Spa is a room. &quot;Treatment rooms, hydrotherapy baths, oriental massage, stand-up solarium, sauna, steam rooms and jacuzzi, two swimming pools, squash court, two fully equipped fitness studios and an aerobics floor. To the south is a shopping area, for those who do not find exercise adequately therapeutic.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Shopping Area is south of Assawan Spa. &quot;In a setting that would make a poet sigh, you may enjoy the services of (among others) Bulgari, Black Pearl Caviar, Albarajeel Carpet Shop, Abdul Samed Al Qurashi (amber and Arabic perfumes), Dianoor (jewellery), and the Commercial Bank of Dubai.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Al Falak Ballroom is a room. &quot;A palatial, two-tiered, domed ballroom crowned with a unique crystal chandelier.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Sahn Eddar is a room. &quot;At the base of the world's tallest atrium, the Sahn Eddar restaurant offers light fine fare and Afternoon Tea. At the center, a 32-meter water column leaps toward the roof of the atrium.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Al Mahara is a room. &quot;After the elevator, you must take a three-minute virtual submarine voyage to reach this seafood restaurant. A magnificent oval aquarium, full of sharks, is visible from every table.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Al Iwan is a room. &quot;Middle-eastern food in an environment of dramatic black, red, and gold.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Al Muntaha is a room. &quot;A top-floor restaurant with a magnificent view: the name means the ultimate or the highest, suitable for a place that stands at 200 metres above the Arabian Gulf. It offers modern European cuisine; and just off to the south is the Skyview Bar.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Skyview Bar is south of Al Muntaha. &quot;'A wonderful location for pre- and post dinner drinks,' claims the hotel's brochure, and certainly you can't fault the view.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Juna Lounge is a room. &quot;Two humidors that offer one of the largest selections of the finest Havana cigars in Dubai.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Lift is a room. &quot;This is not a mere elevator: it is an express panoramic lift, traveling six meters a second, and capable of taking you from lobby to the rooftop restaurant in an astonishingly short time. The illuminated number above the door says [current level of the Lift] - though you can make it move by pressing a numbered button.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Presidential Suite is a room. &quot;Astonishingly, this is not the most elaborate or expensive of suites; there is another, the Royal, upstairs of here.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Royal Suite is a room. &quot;The brochure described this as 'the last word in luxury,' and you have to admit that it is certainly the last word in [italic type]something[roman type]. A vast carpet of patterned red and gold stretches from you to the sofa; beyond which, in the distance, you make out several bedrooms and bathrooms outfitted in Carrera marble. There is also, of course, a private cinema.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Floors
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font size=2 color="#000080">level</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">floor</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">0</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Al Mahara</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Burj al-Arab Lobby</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">2</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Al Iwan</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">3</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Juna Lounge</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">4</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Sahn Eddar</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">15</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Al Falak Ballroom</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">18</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Assawan Spa</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">24</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Presidential Suite</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">25 </font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Royal Suite</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font size=2 color="#000080">27</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font size=2 color="#000080">Al Muntaha</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The elevator exterior is a backdrop. It is not scenery. The initial appearance of the elevator exterior is &quot;You can enter the elevator here.&quot; It is in Generic Floor, Al Mahara, the Lobby, Al Iwan, Juna Lounge, Sahn Eddar, Al Falak, Assawan Spa, Presidential Suite, Royal Suite, and Al Muntaha.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before entering the elevator exterior, try going inside instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of going inside in the presence of the elevator exterior:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if there is a level corresponding to a floor of the location in the Table of Floors
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the present level be the level corresponding to a floor of the location in the Table of Floors;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the current level of the Lift to the present level;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the current level of the Lift to the current level of Generic Floor;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the player to the Lift.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Lift has a number called current level. The current level of the Lift is 1. Instead of going up in the Lift: say &quot;You'll have to select a specific floor; your options range from 0 to 27.&quot; Instead of going down in the Lift: try going up instead. The Lobby is outside from the Lift.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before going outside in the Lift:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if there is a floor corresponding to a level of the current level of the Lift in the Table of Floors
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the other place be the floor corresponding to a level of the current level of the Lift in the Table of Floors;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move the player to the other place instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the current level of the Generic Floor to the current level of the Lift;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move the player to the Generic Floor instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Generic Floor is a room. The Generic Floor has a number called current level. The printed name of the Generic Floor is &quot;Floor [current level of the Generic Floor]&quot;. &quot;A long hallway between suites, some of which run up to $15,000 a night.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;push [number]&quot; as pressing button. Understand &quot;push [number] button&quot; as pressing button. Understand &quot;push button [number]&quot; as pressing button. Pressing button is an action applying to one number.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check pressing button:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player is not in the Lift, say &quot;You cannot control the express panoramic lift unless you are yourself inside.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the number understood is the current level of the Lift, say &quot;The lift pings politely and reopens its doors, since you are already on floor [number understood].&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the number understood is greater than 27, say &quot;There are only 27 floors.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the number understood is less than 0, say &quot;You cannot go below the ground floor in this elevator.&quot; instead;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out pressing button:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the current level of the Lift to the number understood;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You press button [the number understood]. The lift whirs into action and moves to the correct level.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;press 3 / in / press button 3 / look / out / in / press 27 / out / s / in / n / in / press 15 / out / in / press 18 / out / s / in / n / in / press 4 button / out&quot;.
</font></blockquote><p>
<p>
<p>This will all work very well, unless the player has portable objects; in that case, anything he drops on the Generic Floor will be there every time he goes back -- whether it's masquerading as Floor 6 or Floor 23. There are there are two ways round this -- (i) the cheeky way. When we drop something, the unobtrusive yet ever-vigilant maids pick it up and take it down to the Foyer's lost property office; and (ii) the super-duper way, in which things are moved out of play but with their floor numbers remembered, so that the scenario can be reconstructed each time. (i) is probably in fact the more true-to-life, considering the hotel's boasts about its service, but we will demonstrate both methods.
<p>
<p>Here is the version with vigilant maids:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode170(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('The player carries a shopping bag. In the bag are a diamond necklace, a small rug, and a jar of caviar.\n\nCarry out pressing button:\n\tnow every portable thing enclosed by the Generic Floor is in the Office.\n\nThe Office is south of the Lobby. "Here the maids collect everything abandoned by careless guests." The printed name of the Office is "Lost and Found Office".\n\nTest maids with "in / press 6 / out / drop all / in / out / in / press 23 / out / in / press 1 / out / s / get all".\n\n');
}
</script>
<a href="javascript:pasteCode170()"><img border=0 src=../doc_images/paste.png></a> The player carries a shopping bag. In the bag are a diamond necklace, a small rug, and a jar of caviar.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out pressing button:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now every portable thing enclosed by the Generic Floor is in the Office.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Office is south of the Lobby. &quot;Here the maids collect everything abandoned by careless guests.&quot; The printed name of the Office is &quot;Lost and Found Office&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test maids with &quot;in / press 6 / out / drop all / in / out / in / press 23 / out / in / press 1 / out / s / get all&quot;.
</font></blockquote><p>
<p>
<p>Notice that we tie the maid service to the pressing of the lift button, so that if the player just goes into the lift and comes out again, the maids will not have had a chance to clear his possessions.
<p>
<p>Alternatively:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode171(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('The player carries a shopping bag. In the bag are an evening gown, a bolero jacket, and tickets to the Wild Wadi Animal Park.\n\nCarry out pressing button when something is in the Generic Floor:\n\trepeat with item running through portable things in the Generic Floor\n\tbegin;\n\t\tclear the item;\n\tend repeat;\n\trepeat with item running through portable things enclosed by the Generic Floor\n\tbegin;\n\t\tclear the item;\n\tend repeat.\n\n[The "enclosed by" line clears even things left on, say, small un-portable side-tables or whatever; but because we do "in" first, we make sure to move any containers or supporters undisturbed. The next bit could be more tidily incorporated into our previous "before going outside" rule, but since we are writing this code to be optionally pasted onto the end of the first bit, we\'ll express the rule separately:]\n\nBefore going outside in the Lift when something is in Limbo:\n\tif there is a floor corresponding to a level of the current level of the Lift in the Table of Floors\n\tbegin;\n\t\tdo nothing;\n\totherwise;\n\t\trepeat with item running through things in Limbo\n\t\tbegin;\n\t\t\tif the current level of the item is the current level of the Lift, move the item to the Generic Floor;\n\t\tend repeat;\n\tend if.\n\nA thing has a number called current level.\n\nTo clear (item - a thing):\n\tchange the current level of the item to the current level of the Lift;\n\tmove item to Limbo.\n\nLimbo is a room.\n\nTest management with "get all from bag / in / press 22 / out / drop tickets / in / press 23 / out / drop gown / in / press 22 / out / get tickets / in / press 23 / out / get gown".\n\n');
}
</script>
<a href="javascript:pasteCode171()"><img border=0 src=../doc_images/paste.png></a> The player carries a shopping bag. In the bag are an evening gown, a bolero jacket, and tickets to the Wild Wadi Animal Park.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out pressing button when something is in the Generic Floor:
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with item running through portable things in the Generic Floor
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear the item;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with item running through portable things enclosed by the Generic Floor
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear the item;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<p>The &quot;enclosed by&quot; line clears even things left on, say, small un-portable side-tables or whatever; but because we do &quot;in&quot; first, we make sure to move any containers or supporters undisturbed. The next bit could be more tidily incorporated into our previous &quot;before going outside&quot; rule, but since we are writing this code to be optionally pasted onto the end of the first bit, we'll express the rule separately:
<p>
<blockquote><font color="#000080">Before going outside in the Lift when something is in Limbo:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if there is a floor corresponding to a level of the current level of the Lift in the Table of Floors
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do nothing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat with item running through things in Limbo
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the current level of the item is the current level of the Lift, move the item to the Generic Floor;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A thing has a number called current level.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To clear (item - a thing):
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the current level of the item to the current level of the Lift;
<br>&nbsp;&nbsp;&nbsp;&nbsp;move item to Limbo.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Limbo is a room.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test management with &quot;get all from bag / in / press 22 / out / drop tickets / in / press 23 / out / drop gown / in / press 22 / out / get tickets / in / press 23 / out / get gown&quot;.
</font></blockquote><p>
<p>
<p>And now we have a situation in which the player's valuables are left untouched wherever in the hotel he happens to abandon them.
<p>
<p>Incidentally, this example was almost set in an entirely different location: the largest hotel in the world would be the Ryugyong Hotel in Pyongyang, North Korea, with its 105 floors -- if construction had ever progressed beyond the creation of the building's huge concrete shell.
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc212.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td><td width=18 align="left" bgcolor="#000000"><a href=../recipes.html><img src=../doc_images/Hookrecipe.png id="hookrecipe" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td><td width=18 align="left" bgcolor="#000000"><a href=../examples.html><img src=../doc_images/Hookindex.png id="hookindex" style="height: 17px; width: 17px;" border="0"></a></td></tr></table></td></tr></table><p><p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc211.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc213.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
