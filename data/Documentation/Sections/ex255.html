<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>21.6. Extensions and story file formats</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "Tilt 3" -->
<!-- SEARCH SECTION "Ex 351" -->
<!-- SEARCH SORT "Ex 021-006-351" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc357.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap21.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 21: Extensions</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc359.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>21.6. Extensions and story file formats</b></font></td></tr></table>
<p>
<p>Inform compiles to several different story file formats, and in each case uses only a small part of their abilities - especially when it comes to fancy tricks with the keyboard or screen. So people may well want to write extensions which provide access to some of these tricks (like &quot;Basic Screen Effects&quot;, included in the standard Inform distribution, but more so). Unfortunately, these tricks are very likely to fail to compile - or fail to work - on some of the possible story file formats, so the resulting extension would probably go wrong (and mysteriously wrong) for users who have chosen a different format.
<p>
<p>Inform therefore provides a way for extensions to declare the formats they are compatible with. All that is required is to add a proviso in brackets after the title is declared:
<p>
<blockquote><font color="#000080">Version 2 of Basic Screen Effects (for Z-Machine version 5 or 8 only) by Emily Short begins here.
</font></blockquote><p>
<p>
<p>Other examples might be &quot;(for Glulx only)&quot;, or &quot;(for Z-machine only)&quot; - which means any version of the Z-machine, even version 6. If no such proviso is given, the extension is assumed to be compatible with every story file format.
<p>
<p>Extensions are also able to include material which is only used on some story file formats and not others - in principle, this might allow the same facilities to be provided to the author whatever story file format is used, but to achieve these effects differently depending on the current Settings. The convention here is exactly like &quot;not for release&quot;: if a heading or subheading in the source text contains a bracketed proviso, then the material under that heading (and under its dependent subheadings) will be ignored if the current story file format does not match. For example:
<p>
<blockquote><font color="#000080">Section 2.3G (for Glulx only)
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To reveal the explosion:
<br>&nbsp;&nbsp;&nbsp;&nbsp;[...the Glulx way...]
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 2.3Z (for Z-machine only)
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To reveal the explosion:
<br>&nbsp;&nbsp;&nbsp;&nbsp;[...the Z-machine way...]
</font></blockquote><p>
<p>
<p>would ensure that &quot;reveal the explosion&quot; works nicely whichever story file format is used.
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e255"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc358.html#e255 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>351</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc358.html#e255 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000">Tilt 3</font></b></a><br>Displaying the card suits from our deck of cards with red and black colored unicode symbols.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex255.html#e255 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>Books and articles about card-playing traditionally abbreviate card names into a simple two-symbol notation: a number or letter representing the card rank, followed by a symbol indicating the card suit. Suppose that we want to emulate this notation when taking inventory in our poker game.
<p>
<p>The trick here is that colored output is done in different ways by the Z-Machine and by Glulx, so we'll need two different versions of the same section in order to produce this output. The relevant source is right at the beginning:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode440(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('"Tilt"\n\nSection 0 - Colored Output in Two Forms\n\n[For the suit symbols, we\'ll want the Unicode extension included with Inform:]\n\nInclude Unicode Character Names by Graham Nelson.\n\nRule for printing the name of a card (called target) while grouping together:\n\tsay "[rank of the target as abbreviated value][suit of the target as symbol]";\n\nTo say (current suit - a suit) as symbol:\n\tif current suit is diamonds, say "[red letters][unicode black diamond suit][default letters]";\n\tif current suit is spades, say "[unicode black spade suit]";\n\tif current suit is clubs, say "[unicode black club suit]";\n\tif current suit is hearts, say "[red letters][unicode black heart suit][default letters]";\n\nSection 0Z (for Z-machine only)\n\n[The Basic Screen Effects extension bundled with Inform includes mechanisms to change the text color, so for the Z-machine, we need only include this:]\n\nInclude Basic Screen Effects by Emily Short.\n\nSection 0G (for Glulx only)\n\n[Under Glulx, we need slightly more set-up: Glulx requires that we define special user font styles when we plan to make display changes. A fuller discussion of this (and of how to define new colors) appears in the documentation of "Glulx Text Effects", but an implementation sufficient to our purposes would be]\n\nInclude Glulx Text Effects by Emily Short.\n\nTable of User Styles (continued)\nstyle name\tglulx color\nspecial-style-1\tg-pure-red\n\nTable of Common Color Values (continued)\nglulx color value\tassigned number\ng-pure-red\t16711680\t[== $FF0000]\n\nTo say red letters: say first custom style.\n\nTo say default letters: say roman type.\n\n[From here, the rest of the source is mostly as we\'ve seen in previous examples:]\n\nSection 1 - Cards\n\nSuit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand "heart" as hearts. Understand "club" as clubs. Understand "diamond" as diamonds. Understand "spade" as spades.\n\nA card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.\n\n52 cards are in the card repository.\n\nTo say (count - a number) as a card value:\n\tchoose row count in the Table of Value Names;\n\tsay "[term entry]".\n\nRule for printing the name of a card (called target):\n\tsay "[rank of the target as a card value] of [suit of the target]"\n\nTo say (count - a number) as abbreviated value:\n\tchoose row count in the Table of Value Names;\n\tsay "[abbrev entry]".\n\nTable of Value Names\nterm\tvalue\tabbrev\ttopic\n"ace"\t"1"\t"A"\t"ace/A"\n"deuce"\t"2"\t"2"\t"deuce/two"\n"three"\t"3"\t"3"\t"three"\n"four"\t"4"\t"4"\t"four"\n"five"\t"5"\t"5"\t"five"\n"six"\t"6"\t"6"\t"six"\n"seven"\t"7"\t"7"\t"seven"\n"eight"\t"8"\t"8"\t"eight"\n"nine"\t"9"\t"9"\t"nine"\n"ten"\t"10"\t"10"\t"ten"\n"jack"\t"11"\t"J"\t"jack/knave/J"\n"queen"\t"12"\t"Q"\t"queen/Q"\n"king"\t"13"\t"K"\t"king/K"\n\nAfter reading a command:\n\tif the player\'s command includes "of [suit]"\n\tbegin;\n\t\twhile the player\'s command includes "of", cut the matched text;\n\tend if;\n\trepeat through the Table of Value Names\n\tbegin;\n\t\twhile the player\'s command includes topic entry, replace the matched text with value entry;\n\tend repeat.\n\nWhen play begins:\n\treconstitute deck.\n\nTo reconstitute deck:\n\tlet current suit be hearts;\n\tnow every card is in the card repository;\n\twhile a card is in the card repository\n\tbegin;\n\t\trepeat with current rank running from 1 to 13\n\t\tbegin;\n\t\t\tlet item be a random card in card repository;\n\t\t\tchange rank of item to current rank;\n\t\t\tchange suit of item to current suit;\n\t\t\tnow item is in the deck of cards;\n\t\tend repeat;\n\t\tchange current suit to the suit after the current suit;\n\tend while.\n\nSection 2 - The Deck and the Discard Pile\n\nThe Empty Room is a room. "Nothing to see here."\n\nThe deck of cards is in the Empty Room. It is a closed unopenable container. The description is "A standard poker deck."\n\nThe discard pile is a closed unopenable container. The description is "Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s]."\n\nTo decide what number is the rounded number of (described set - a description):\n\tlet N be the number of members of the described set;\n\tlet R be N divided by 5;\n\tlet total be R times 5;\n\tdecide on total.\n\nRule for printing room description details of something: do nothing instead.\n\nSection 3 - Drawing and Discarding Actions\n\nUnderstand the commands "take" and "carry" and "hold" and "get" and "drop" and "throw" and "discard" as something new.\n\nUnderstand "take [text]" or "get [text]" or "drop [text]" as a mistake ("Here, you only draw and discard. Nothing else matters at the moment.").\n\nUnderstand "draw" or "draw card" or "draw a card" as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.\n\nSetting action variables for drawing:\n\tchange the card drawn to a random card which is in the deck of cards.\n\nCheck drawing:\n\tif the card drawn is nothing, say "The deck is completely depleted." instead.\n\nCheck drawing:\n\tif the number of cards carried by the player is greater than four,\n\t\tsay "This is a five-card game; you must discard something before drawing anything further." instead.\n\nCarry out drawing:\n\tmove the card drawn to the player.\n\nReport drawing:\n\tsay "You draw [a card drawn]."\n\n\nUnderstand "discard [card]" as discarding. Discarding is an action applying to one thing.\n\nCheck discarding:\n\tif the player does not carry the noun, say "You can only discard cards from your own hand." instead.\n\nCarry out discarding:\n\tnow the noun is in the discard pile;\n\tif the discard pile is not visible, move the discard pile to the location.\n\nReport discarding:\n\tsay "You toss [the noun] nonchalantly onto the discard pile."\n\nSection 4 - Assessing Hands\n\nBefore listing contents while taking inventory: group cards together.\n\nBefore grouping together cards:\n\tif the number of cards carried by the player is 5\n\tbegin;\n\t\tsay "[run paragraph on]";\n\t\tfollow the hand-ranking rules;\n\t\tif the rule succeeded, say "[the outcome of the rulebook]";\n\t\totherwise say "some random cards";\n\t\tif the outcome of the rulebook is pair outcome, say " of [rank of the first thing held by the player as a card value]s";\n\totherwise;\n\t\tsay "[number of cards carried by the player in words] assorted cards";\n\tend if;\n\tsay " (";\n\nRule for grouping together cards:\n\tsay "[list hand]".\n\nTo say list hand:\n\tlet chosen card be the first thing held by the player;\n\twhile chosen card is a card\n\tbegin;\n\t\tsay "[chosen card]";\n\t\tnow chosen card is the next thing held after chosen card;\n\t\tif chosen card is a card, say "-";\n\tend while.\n\nAfter grouping together cards:\n\tsay ")";\n\nThe hand-ranking rules is a rulebook. The hand-ranking rules have outcomes royal flush, straight flush, four of a kind, full house, flush, straight, three of a kind, two pairs, pair, high card.\n\nThe hand-ranking rulebook has a number called the flushness.\nThe hand-ranking rulebook has a number called the straightness.\n\nThe hand-ranking rulebook has a number called the pair count.\nThe hand-ranking rulebook has a number called the triple count.\nThe hand-ranking rulebook has a number called the quadruple count.\n\nA card can be sorted or unsorted. A card is usually unsorted.\n\nDefinition: a card is high if its rank is 11 or more.\nDefinition: a card is low if its rank is 4 or less.\n\nA hand-ranking rule (this is the initial sort rule):\n\tnow every card is unsorted;\n\twhile the player carries an unsorted card\n\tbegin;\n\t\tlet item be the lowest unsorted card held by the player;\n\t\tmove item to the player;\n\t\tnow the item is sorted;\n\tend while;\n\tif sort-debugging is 1, say "-- after initial sort: [list hand]".\n\nA hand-ranking rule (this is the finding flushness rule):\n\tlet called suit be the suit of a random card carried by the player;\n\tif every card carried by the player is called suit, change flushness to 1.\n\nA hand-ranking rule (this is the finding straightness rule):\n\tchange straightness to 1;\n\tlet N be the rank of the highest card which is carried by the player;\n\trepeat with current rank running from N - 4 to N\n\tbegin;\n\t\tchange the test rank to the current rank;\n\t\tif the player carries a matching card\n\t\tbegin;\n\t\t\tdo nothing;\n\t\totherwise;\n\t\t\tif the current rank is N - 4 and the current rank is 9 and the player carries an ace card, do nothing;\n\t\t\totherwise change straightness to 0;\n\t\tend if;\n\tend repeat.\n\nA card can be quadrupled, tripled, paired or uncombined.\n\nTest rank is a number that varies. Definition: a card is matching if its rank is the test rank.\n\nA hand-ranking rule (this is the counting multiples rule):\n\tnow every card is uncombined;\n\trepeat with current rank running from 1 to 13\n\tbegin;\n\t\tchange test rank to current rank;\n\t\tlet N be the number of matching cards held by the player;\n\t\tif N is 4\n\t\tbegin;\n\t\t\tincrease the quadruple count by 1;\n\t\t\tnow every matching card held by the player is quadrupled;\n\t\tend if;\n\t\tif N is 3\n\t\tbegin;\n\t\t\tincrease the triple count by 1;\n\t\t\tnow every matching card held by the player is tripled;\n\t\tend if;\n\t\tif N is 2\n\t\tbegin;\n\t\t\tincrease the pair count by 1;\n\t\t\tnow every matching card held by the player is paired;\n\t\tend if;\n\tend repeat;\n\nA hand-ranking rule (this is the move aces up unless there\'s a low straight rule):\n\tif the straightness is 1 and the lowest card carried by the player is an ace card and the rank of the highest card carried by the player is 5,\n\t\tdo nothing;\n\totherwise\n\t\tnow every ace card which is carried by the player is carried by the player;\n\tif sort-debugging is 1, say "-- after ace movement rule: [list hand]";\n\nA hand-ranking rule (this is the move pairs forward rule):\n\twhile the player carries a paired card\n\tbegin;\n\t\tlet selection be the lowest paired card which is carried by the player;\n\t\tmove the selection to the player;\n\t\tnow the selection is uncombined;\n\tend while;\n\tif sort-debugging is 1, say "-- after pairs movement: [list hand]";\n\nA hand-ranking rule (this is the raise ace pairs rule):\n\tif the player carries exactly two ace cards\n\tbegin;\n\t\trepeat with item running through ace cards which are carried by the player\n\t\tbegin;\n\t\t\tmove item to the player;\n\t\tend repeat;\n\tend if;\n\tif sort-debugging is 1, say "-- after paired-ace movement: [list hand]";\n\nA hand-ranking rule (this is the move multiples forward rule):\n\twhile the player carries a tripled card\n\tbegin;\n\t\tlet selection be the lowest tripled card which is carried by the player;\n\t\tmove the selection to the player;\n\t\tnow the selection is uncombined;\n\tend while;\n\twhile the player carries a quadrupled card\n\tbegin;\n\t\tlet selection be the lowest quadrupled card which is carried by the player;\n\t\tmove the selection to the player;\n\t\tnow the selection is uncombined;\n\tend while;\n\tif sort-debugging is 1, say "-- after multiples movement rule: [list hand]";\n\nDefinition: a card is ace if its rank is 1.\nDefinition: a card is king if its rank is 13.\n\nA hand-ranking rule (this is the royal-flush rule):\n\tif flushness is 1 and straightness is 1 and the highest card carried by the player is king and the lowest card carried by the player is ace, royal flush.\n\nA hand-ranking rule (this is the straight-flushes rule):\n\tif flushness is 1 and straightness is 1, straight flush.\n\nA hand-ranking rule (this is the four-of-a-kind rule):\n\tif the quadruple count is 1, four of a kind.\n\nA hand-ranking rule (this is the full-house rule):\n\tif the pair count is 1 and the triple count is 1, full house.\n\nA hand-ranking rule (this is the flushes rule):\n\tif flushness is 1, flush.\n\nA hand-ranking rule (this is the straights rule):\n\tif straightness is 1, straight.\n\nA hand-ranking rule (this is the three-of-a-kind rule):\n\tif triple count is 1, three of a kind.\n\nA hand-ranking rule (this is the two-pair rule):\n\tif the pair count is 2, two pairs.\n\nA hand-ranking rule (this is the pair rule):\n\tif the pair count is 1, pair.\n\nA hand-ranking rule (this is the default rule):\n\thigh card.\n\nSort-debugging is a number that varies.\n\nSection 5 - Testing hand identification - Not for release\n\nUnderstand "debug sorting" as debugging hand sorting. Debugging hand sorting is an action out of world.\n\nCarry out debugging hand sorting:\n\tif sort-debugging is 0, now sort-debugging is 1;\n\totherwise now sort-debugging is 0.\n\nReport debugging hand sorting:\n\tsay "Sort debugging is now [if sort-debugging is 1]on[otherwise]off[end if]."\n\nTest me with "draw / g / g / g / g / force hand / g / g / g / g / g / g / g / g / g / g / g / g".\n\nTable of Testing Hands\nset suit\tset rank\nspades\t1\t[royal flush]\nspades\t13\nspades\t12\nspades\t11\nspades\t10\nclubs\t12\t[straight flush]\nclubs\t11\nclubs\t10\nclubs\t9\nclubs\t8\ndiamonds\t8\t[four of a kind]\nhearts\t8\nspades\t8\nclubs\t8\nclubs\t3\nclubs\t1\t[full house]\nspades\t1\nhearts\t10\nspades\t10\nclubs\t10\nhearts\t2\t[flush]\nhearts\t5\nhearts\t7\nhearts\t11\nhearts\t12\nhearts\t1\t[straight]\nspades\t13\ndiamonds\t12\nclubs\t11\nhearts\t10\nhearts\t2\t[three of a kind]\nspades\t2\nclubs\t2\nclubs\t4\nspades\t3\ndiamonds\t6\t[two pairs]\nspades\t6\nclubs\t7\ndiamonds\t7\nhearts\t9\ndiamonds\t6\t[two pairs, ace high]\nspades\t6\nclubs\t1\ndiamonds\t7\nhearts\t1\nhearts\t12\t[pair]\nspades\t12\ndiamonds\t10\nspades\t7\nclubs\t4\ndiamonds\t13\t[high]\nhearts\t11\nspades\t9\nclubs\t7\ndiamonds\t5\nhearts\t1\t[tricky sorting: low straight]\ndiamonds\t2\nspades\t3\ndiamonds\t4\ndiamonds\t5\n\nUnderstand "force hand" as forcing a hand. Forcing a hand is an action out of world.\n\nCurrent marker is a number that varies.\n\nCarry out forcing a hand:\n\trepeat with item running through cards which are carried by the player\n\tbegin;\n\t\tincrease current marker by 1;\n\t\tif current marker is greater than the number of filled rows in the Table of Testing Hands, change current marker to 1;\n\t\tchoose row current marker in the Table of Testing Hands;\n\t\tchange the suit of item to the set suit entry;\n\t\tchange the rank of item to the set rank entry;\n\tend repeat.\n\nReport forcing a hand:\n\ttry taking inventory.\n');
}
</script>
<a href="javascript:pasteCode440()"><img border=0 src=../doc_images/paste.png></a> &quot;Tilt&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 0 - Colored Output in Two Forms
</font></blockquote><p>
<p>
<p>For the suit symbols, we'll want the Unicode extension included with Inform:
<p>
<blockquote><font color="#000080">Include Unicode Character Names by Graham Nelson.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing the name of a card (called target) while grouping together:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[rank of the target as abbreviated value][suit of the target as symbol]&quot;;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say (current suit - a suit) as symbol:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if current suit is diamonds, say &quot;[red letters][unicode black diamond suit][default letters]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if current suit is spades, say &quot;[unicode black spade suit]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if current suit is clubs, say &quot;[unicode black club suit]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if current suit is hearts, say &quot;[red letters][unicode black heart suit][default letters]&quot;;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 0Z (for Z-machine only)
</font></blockquote><p>
<p>
<p>The Basic Screen Effects extension bundled with Inform includes mechanisms to change the text color, so for the Z-machine, we need only include this:
<p>
<blockquote><font color="#000080">Include Basic Screen Effects by Emily Short.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 0G (for Glulx only)
</font></blockquote><p>
<p>
<p>Under Glulx, we need slightly more set-up: Glulx requires that we define special user font styles when we plan to make display changes. A fuller discussion of this (and of how to define new colors) appears in the documentation of &quot;Glulx Text Effects&quot;, but an implementation sufficient to our purposes would be
<p>
<blockquote><font color="#000080">Include Glulx Text Effects by Emily Short.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of User Styles (continued)
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">style name</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">glulx color</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">special-style-1</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">g-pure-red</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Common Color Values (continued)
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">glulx color value</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">assigned number</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">g-pure-red</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">16711680</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[== $FF0000]</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say red letters: say first custom style.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say default letters: say roman type.
</font></blockquote><p>
<p>
<p>From here, the rest of the source is mostly as we've seen in previous examples:
<p>
<blockquote><font color="#000080">Section 1 - Cards
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand &quot;heart&quot; as hearts. Understand &quot;club&quot; as clubs. Understand &quot;diamond&quot; as diamonds. Understand &quot;spade&quot; as spades.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">52 cards are in the card repository.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say (count - a number) as a card value:
<br>&nbsp;&nbsp;&nbsp;&nbsp;choose row count in the Table of Value Names;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[term entry]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing the name of a card (called target):
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[rank of the target as a card value] of [suit of the target]&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say (count - a number) as abbreviated value:
<br>&nbsp;&nbsp;&nbsp;&nbsp;choose row count in the Table of Value Names;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[abbrev entry]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Value Names
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">term</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">value</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">abbrev</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">topic</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;ace&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;1&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;A&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;ace/A&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;deuce&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;2&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;2&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;deuce/two&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;three&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;3&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;3&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;three&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;four&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;4&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;4&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;four&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;five&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;5&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;5&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;five&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;six&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;6&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;6&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;six&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;seven&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;7&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;7&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;seven&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;eight&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;8&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;8&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;eight&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;nine&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;9&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;9&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;nine&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;ten&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;10&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;10&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;ten&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;jack&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;11&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;J&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;jack/knave/J&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;queen&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;12&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;Q&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;queen/Q&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;king&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;13&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;K&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;king/K&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After reading a command:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player's command includes &quot;of [suit]&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while the player's command includes &quot;of&quot;, cut the matched text;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through the Table of Value Names
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while the player's command includes topic entry, replace the matched text with value entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;reconstitute deck.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To reconstitute deck:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let current suit be hearts;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now every card is in the card repository;
<br>&nbsp;&nbsp;&nbsp;&nbsp;while a card is in the card repository
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat with current rank running from 1 to 13
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let item be a random card in card repository;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change rank of item to current rank;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change suit of item to current suit;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now item is in the deck of cards;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change current suit to the suit after the current suit;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end while.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 2 - The Deck and the Discard Pile
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Empty Room is a room. &quot;Nothing to see here.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The deck of cards is in the Empty Room. It is a closed unopenable container. The description is &quot;A standard poker deck.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The discard pile is a closed unopenable container. The description is &quot;Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To decide what number is the rounded number of (described set - a description):
<br>&nbsp;&nbsp;&nbsp;&nbsp;let N be the number of members of the described set;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let R be N divided by 5;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let total be R times 5;
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide on total.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing room description details of something: do nothing instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 3 - Drawing and Discarding Actions
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand the commands &quot;take&quot; and &quot;carry&quot; and &quot;hold&quot; and &quot;get&quot; and &quot;drop&quot; and &quot;throw&quot; and &quot;discard&quot; as something new.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;take [text]&quot; or &quot;get [text]&quot; or &quot;drop [text]&quot; as a mistake (&quot;Here, you only draw and discard. Nothing else matters at the moment.&quot;).
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;draw&quot; or &quot;draw card&quot; or &quot;draw a card&quot; as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Setting action variables for drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the card drawn to a random card which is in the deck of cards.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the card drawn is nothing, say &quot;The deck is completely depleted.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the number of cards carried by the player is greater than four,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;This is a five-card game; you must discard something before drawing anything further.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the card drawn to the player.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You draw [a card drawn].&quot;
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">Understand &quot;discard [card]&quot; as discarding. Discarding is an action applying to one thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check discarding:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player does not carry the noun, say &quot;You can only discard cards from your own hand.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out discarding:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the noun is in the discard pile;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the discard pile is not visible, move the discard pile to the location.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report discarding:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You toss [the noun] nonchalantly onto the discard pile.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 4 - Assessing Hands
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before listing contents while taking inventory: group cards together.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before grouping together cards:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the number of cards carried by the player is 5
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[run paragraph on]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;follow the hand-ranking rules;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the rule succeeded, say &quot;[the outcome of the rulebook]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;some random cards&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the outcome of the rulebook is pair outcome, say &quot; of [rank of the first thing held by the player as a card value]s&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[number of cards carried by the player in words] assorted cards&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot; (&quot;;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for grouping together cards:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[list hand]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say list hand:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let chosen card be the first thing held by the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;while chosen card is a card
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[chosen card]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now chosen card is the next thing held after chosen card;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if chosen card is a card, say &quot;-&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end while.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After grouping together cards:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;)&quot;;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The hand-ranking rules is a rulebook. The hand-ranking rules have outcomes royal flush, straight flush, four of a kind, full house, flush, straight, three of a kind, two pairs, pair, high card.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The hand-ranking rulebook has a number called the flushness.
<br>The hand-ranking rulebook has a number called the straightness.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The hand-ranking rulebook has a number called the pair count.
<br>The hand-ranking rulebook has a number called the triple count.
<br>The hand-ranking rulebook has a number called the quadruple count.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A card can be sorted or unsorted. A card is usually unsorted.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a card is high if its rank is 11 or more.
<br>Definition: a card is low if its rank is 4 or less.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the initial sort rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;now every card is unsorted;
<br>&nbsp;&nbsp;&nbsp;&nbsp;while the player carries an unsorted card
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let item be the lowest unsorted card held by the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move item to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now the item is sorted;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end while;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if sort-debugging is 1, say &quot;-- after initial sort: [list hand]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the finding flushness rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;let called suit be the suit of a random card carried by the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if every card carried by the player is called suit, change flushness to 1.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the finding straightness rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;change straightness to 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let N be the rank of the highest card which is carried by the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with current rank running from N - 4 to N
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the test rank to the current rank;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the player carries a matching card
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do nothing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the current rank is N - 4 and the current rank is 9 and the player carries an ace card, do nothing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise change straightness to 0;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A card can be quadrupled, tripled, paired or uncombined.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test rank is a number that varies. Definition: a card is matching if its rank is the test rank.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the counting multiples rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;now every card is uncombined;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with current rank running from 1 to 13
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change test rank to current rank;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let N be the number of matching cards held by the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if N is 4
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increase the quadruple count by 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now every matching card held by the player is quadrupled;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if N is 3
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increase the triple count by 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now every matching card held by the player is tripled;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if N is 2
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increase the pair count by 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now every matching card held by the player is paired;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the move aces up unless there's a low straight rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the straightness is 1 and the lowest card carried by the player is an ace card and the rank of the highest card carried by the player is 5,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do nothing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now every ace card which is carried by the player is carried by the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if sort-debugging is 1, say &quot;-- after ace movement rule: [list hand]&quot;;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the move pairs forward rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;while the player carries a paired card
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let selection be the lowest paired card which is carried by the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move the selection to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now the selection is uncombined;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end while;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if sort-debugging is 1, say &quot;-- after pairs movement: [list hand]&quot;;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the raise ace pairs rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player carries exactly two ace cards
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat with item running through ace cards which are carried by the player
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move item to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if sort-debugging is 1, say &quot;-- after paired-ace movement: [list hand]&quot;;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the move multiples forward rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;while the player carries a tripled card
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let selection be the lowest tripled card which is carried by the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move the selection to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now the selection is uncombined;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end while;
<br>&nbsp;&nbsp;&nbsp;&nbsp;while the player carries a quadrupled card
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let selection be the lowest quadrupled card which is carried by the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move the selection to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now the selection is uncombined;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end while;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if sort-debugging is 1, say &quot;-- after multiples movement rule: [list hand]&quot;;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a card is ace if its rank is 1.
<br>Definition: a card is king if its rank is 13.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the royal-flush rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if flushness is 1 and straightness is 1 and the highest card carried by the player is king and the lowest card carried by the player is ace, royal flush.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the straight-flushes rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if flushness is 1 and straightness is 1, straight flush.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the four-of-a-kind rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the quadruple count is 1, four of a kind.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the full-house rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the pair count is 1 and the triple count is 1, full house.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the flushes rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if flushness is 1, flush.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the straights rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if straightness is 1, straight.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the three-of-a-kind rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if triple count is 1, three of a kind.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the two-pair rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the pair count is 2, two pairs.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the pair rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the pair count is 1, pair.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A hand-ranking rule (this is the default rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;high card.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Sort-debugging is a number that varies.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 5 - Testing hand identification - Not for release
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;debug sorting&quot; as debugging hand sorting. Debugging hand sorting is an action out of world.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out debugging hand sorting:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if sort-debugging is 0, now sort-debugging is 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise now sort-debugging is 0.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report debugging hand sorting:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Sort debugging is now [if sort-debugging is 1]on[otherwise]off[end if].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;draw / g / g / g / g / force hand / g / g / g / g / g / g / g / g / g / g / g / g&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Testing Hands
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">set suit</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">set rank</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[royal flush]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">13</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">12</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">11</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">10</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">12</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[straight flush]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">11</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">10</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">9</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">8</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">8</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[four of a kind]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">8</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">8</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">8</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">3</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[full house]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">10</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">10</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">10</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">2</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[flush]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">5</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">7</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">11</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">12</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[straight]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">13</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">12</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">11</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">10</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">2</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[three of a kind]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">2</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">2</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">4</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">3</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">6</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[two pairs]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">6</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">7</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">7</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">9</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">6</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[two pairs, ace high]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">6</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">7</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">12</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[pair]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">12</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">10</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">7</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">4</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">13</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[high]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">11</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">9</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">clubs</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">7</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">5</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hearts</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">[tricky sorting: low straight]</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">2</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">spades</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">3</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">4</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">diamonds</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">5</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;force hand&quot; as forcing a hand. Forcing a hand is an action out of world.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Current marker is a number that varies.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out forcing a hand:
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with item running through cards which are carried by the player
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increase current marker by 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if current marker is greater than the number of filled rows in the Table of Testing Hands, change current marker to 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;choose row current marker in the Table of Testing Hands;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the suit of item to the set suit entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the rank of item to the set rank entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report forcing a hand:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try taking inventory.
</font></blockquote><p>
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc358.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc357.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc359.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
