<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.33. Starting the virtual machine</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "Blankness" -->
<!-- SEARCH SECTION "Ex 332" -->
<!-- SEARCH SORT "Ex 017-033-332" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc294.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap17.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 17: Activities</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc296.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>17.33. Starting the virtual machine</b></font></td></tr></table>
<p>
<p><b>1. When it happens.</b> This activity is provided solely as a &quot;hook&quot; for any low-level tasks which need to be performed when the virtual computer which runs Inform story files is starting up. This happens much earlier than &quot;when play begins&quot; rules, and should be used only as a last resort.
<p>
<p>It should be remembered that Inform can produce story files for several different virtual computers. On some of these, it will not be safe to print any text during this activity, as the windows which would display such text do not yet exist.
<p>
<p><b>2. The default behaviour.</b> None.
<p>
<p><b>3. Examples.</b> No detailed examples will be given here, but the activity might be used (for instance) to set styles for the Glulx windows shortly to be brought into existence.
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e105"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc295.html#e105 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>332</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc295.html#e105 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Blankness</font></b></a><br>Emptying the status line during the first screen of the game.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex105.html#e105 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>Occasionally we want to print something as our first screen and then pause the game. By default, Inform will print a rather odd status line, with &quot;You&quot; on the left side and &quot;0&quot; on the right. This is because the left hand status line is set to display the location, but (because we're not done with the when-play-begins rules) the player has not yet even been moved to a room.
<p>
<p>We can tidy this up in the &quot;starting the virtual machine&quot; activity, by temporarily changing the statusline content. We will not provide game-pausing code here, because that is easily done by extension; so:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode420(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('"Blankness"\n\nInclude Basic Screen Effects by Emily Short.\n\nWhen play begins:\n\tsay "take me home";\n\twait for any key;\n\tsay " yeah";\n\twait for any key;\n\tsay " yeah";\n\tpause the game;\n\tchange the left hand status line to "[location]";\n\tchange the right hand status line to "[turn count]".\n\nBefore starting the virtual machine:\n\tchange the left hand status line to "";\n\tchange the right hand status line to "".\n\nParadise City is a room. The description of Paradise City is "The grass is green and the girls are pretty."\n\n');
}
</script>
<a href="javascript:pasteCode420()"><img border=0 src=../doc_images/paste.png></a> &quot;Blankness&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Include Basic Screen Effects by Emily Short.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;take me home&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;wait for any key;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot; yeah&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;wait for any key;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot; yeah&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;pause the game;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the left hand status line to &quot;[location]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the right hand status line to &quot;[turn count]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before starting the virtual machine:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the left hand status line to &quot;&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the right hand status line to &quot;&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Paradise City is a room. The description of Paradise City is &quot;The grass is green and the girls are pretty.&quot;
</font></blockquote><p>
<p>
<p>Quite a modest effect, but occasionally useful.
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc295.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc294.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc296.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
