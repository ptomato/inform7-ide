<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>15.10. Adding and removing rows</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
-->
</STYLE>
<body>
<!-- SEARCH TITLE "Odyssey" -->
<!-- SEARCH SECTION "Ex 212" -->
<!-- SEARCH SORT "Ex 015-010-212" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc230.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap15.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 15: Tables</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc232.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>15.10. Adding and removing rows</b></font></td></tr></table>
<p>
<p>Writing in new rows is simple:
<p>
<blockquote><font color="#000080">choose a blank row in Table 3;
<br>change element entry to &quot;Fluorine&quot;;
<br>change symbol to &quot;F&quot;;
<br>change atomic number to 9;
<br>change atomic weight to 19;
</font></blockquote><p>
<p>
<p>This will produce an error if there are no blank rows left in Table 3, so it can be important to worry about free space. To that end we can not only find the number of rows (as we have already seen) but also the number currently blank and not blank. Thus these:
<p>
<blockquote><font color="#000080">the number of blank rows in Table 3
<br>the number of filled rows in Table 3
</font></blockquote><p>
<p>
<p>always add up to &quot;the number of rows in Table 3&quot;.
<p>
<p>To delete a row, we first choose it and then &quot;blank out the whole row&quot;. Thus, for abdication purposes:
<p>
<blockquote><font color="#000080">choose row with name of &quot;Edward VIII&quot; in the Table of Recent Monarchs;
<br>blank out the whole row;
</font></blockquote><p>
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e308"><table CELLPADDING=0 CELLSPACING=0><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc231.html#e308 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>211</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc231.html#e308 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Odyssey</font></b></a><br>A person who follows a path predetermined and stored in a table, and who can be delayed if the player tries to interact with her.<p></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode302(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('"Odyssey"\n\nCorinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.\n\nAthena is a woman in Athens.\n\n[Athena will proceed, unless delayed, through a list of locations stored in a simple table. Rather than using Inform\'s route-finding abilities ("the best route from..."), we simply move Athena from one location to the next, not even using the going action: she moves in mysterious ways, as befits a goddess.]\n\nTable of Athena\'s Movement\ndestination\nThebes\nDelphi\nThebes\nAthens\nCorinth\nMycenae\n\nEvery turn when Athena is active:\n\trepeat through the Table of Athena\'s Movement\n\tbegin;\n\t\tlet last space be the location of Athena;\n\t\tif Athena can be seen by the player, say "Athena heads to [the destination entry].";\n\t\tmove Athena to destination entry;\n\t\tif Athena can be seen by the player, say "Athena arrives from [the last space].";\n\t\tblank out the whole row;\n\t\trule succeeds;\n\tend repeat.\n\n[By blanking out the table line by line, we make sure that we never lose our place in the path.]\n\n[Since we want the player to be able to talk to Athena, we need a way to stall her in her path, as well.]\n\nAthena can be active or passive. Athena is active.\n\nBefore doing something to Athena:\n\tchange Athena to passive;\n\tsay "Athena waits around patiently, though you can tell she would like to leave..."\n\nInstead of telling Athena about something:\n\tsay "She watches you patiently as though to say that she already knows."\n\nInstead of asking Athena about something:\n\tsay "Her response is inscrutably ancient and Greek. Afterwards you remember only the flash of bright eyes."\n\n[Finally, we do need to wake Athena up again if she has become passive. The following rule will occur after the movement rule just because of code ordering, though we could make matters more explicit if we needed to:]\n\nEvery turn when Athena is passive:\n\tchange Athena to active.\n\nTest me with "east / northwest / wait / examine athena / wait".\n');
}
</script>
<a href="javascript:pasteCode302()"><img border=0 src=../doc_images/paste.png></a> &quot;Odyssey&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Corinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Athena is a woman in Athens.
</font></blockquote><p>
<p>
<p>Athena will proceed, unless delayed, through a list of locations stored in a simple table. Rather than using Inform's route-finding abilities (&quot;the best route from...&quot;), we simply move Athena from one location to the next, not even using the going action: she moves in mysterious ways, as befits a goddess.
<p>
<blockquote><font color="#000080">Table of Athena's Movement
<br>destination
<br>Thebes
<br>Delphi
<br>Thebes
<br>Athens
<br>Corinth
<br>Mycenae
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn when Athena is active:
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through the Table of Athena's Movement
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let last space be the location of Athena;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if Athena can be seen by the player, say &quot;Athena heads to [the destination entry].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move Athena to destination entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if Athena can be seen by the player, say &quot;Athena arrives from [the last space].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blank out the whole row;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rule succeeds;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<p>By blanking out the table line by line, we make sure that we never lose our place in the path.
<p>
<p>Since we want the player to be able to talk to Athena, we need a way to stall her in her path, as well.
<p>
<blockquote><font color="#000080">Athena can be active or passive. Athena is active.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before doing something to Athena:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change Athena to passive;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Athena waits around patiently, though you can tell she would like to leave...&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of telling Athena about something:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;She watches you patiently as though to say that she already knows.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of asking Athena about something:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Her response is inscrutably ancient and Greek. Afterwards you remember only the flash of bright eyes.&quot;
</font></blockquote><p>
<p>
<p>Finally, we do need to wake Athena up again if she has become passive. The following rule will occur after the movement rule just because of code ordering, though we could make matters more explicit if we needed to:
<p>
<blockquote><font color="#000080">Every turn when Athena is passive:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change Athena to active.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;east / northwest / wait / examine athena / wait&quot;.
</font></blockquote><p>
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc231.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td><td width=18 align="left" bgcolor="#000000"><a href=../recipes.html><img src=../doc_images/Hookrecipe.png id="hookrecipe" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td><td width=18 align="left" bgcolor="#000000"><a href=../examples.html><img src=../doc_images/Hookindex.png id="hookindex" style="height: 17px; width: 17px;" border="0"></a></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc230.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc232.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
